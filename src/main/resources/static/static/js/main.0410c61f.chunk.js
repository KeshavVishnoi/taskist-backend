(this["webpackJsonptask-tracker-react"]=this["webpackJsonptask-tracker-react"]||[]).push([[0],{12:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(21),c=a.n(r),o=(a(12),a(3)),i=a.n(o),l=a(10),u=a(9),d=a(4),p=a(5),k=a(7),j=a(6),b=a(0),f=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"head",children:Object(b.jsxs)("header",{className:"dflex",children:[Object(b.jsx)("h2",{className:"c-name",children:"Taskist"}),Object(b.jsx)("span",{className:"tagline",children:"Manage Your Daily Life"})]})})}}]),a}(n.a.Component),h=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).taskRef=n.a.createRef(),e.dateRef=n.a.createRef(),e.createTask=function(t){t.preventDefault();var a={task:e.taskRef.current.value,date:e.dateRef.current.value};t.currentTarget.reset(),e.props.addTask(a)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{className:"inp-data",onSubmit:this.createTask,children:[Object(b.jsx)("label",{htmlFor:"task",className:"lead",children:"Task"}),Object(b.jsx)("input",{ref:this.taskRef,required:!0,type:"text",name:"task",className:"field",placeholder:"Task Name"}),Object(b.jsx)("label",{htmlFor:"date",className:"lead",children:"Date"}),Object(b.jsx)("input",{ref:this.dateRef,required:!0,type:"text",name:"date",className:"field",placeholder:"MM/DD/YYYY",onFocus:function(e){return e.target.type="date"},onBlur:function(e){return e.target.type="text"}}),Object(b.jsx)("button",{type:"submit",className:"btn-black primary",children:"Add Task"})]})})}}]),a}(n.a.Component),O=a(8),x=a.n(O),m=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).parseDate=function(e,t){return 1===t?(e.getMonth(),e.getMonth()+1):2===t?e.getDate()<10?"0"+e.getDate():e.getDate():void 0},e.editTask=Object(u.a)(i.a.mark((function t(){var a,s,n,r,c,o,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(a=parseInt(prompt("Enter 1 to change task or Enter 2 to change date")))){t.next=10;break}return s=prompt("Enter New Task"),e.props.task.task=s,t.next=6,x.a.put("http://localhost:8080/tasks/edittask",e.props.task);case 6:r=t.sent,e.props.setTasks(r.data),t.next=30;break;case 10:if(2!==a){t.next=29;break}if(!(c=prompt("Enter New Date in format YYYY-MM-DD"))){t.next=27;break}if(o=/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,!c.match(o)){t.next=26;break}return l=new Date(c),"".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate()),n="".concat(l.getFullYear(),"-").concat(e.parseDate(l,1),"-").concat(e.parseDate(l,2)),console.log(n),e.props.task.date=n,t.next=22,x.a.put("http://localhost:8080/tasks/edittask",e.props.task);case 22:u=t.sent,e.props.setTasks(u.data),t.next=27;break;case 26:alert("Enter valid data");case 27:t.next=30;break;case 29:alert("Please enter a number between 1 and 2 , Try Again");case 30:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.task,a=t.task,s=t.date;return Object(b.jsxs)("div",{className:"task",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{className:"work",children:["Task : ",a]}),Object(b.jsxs)("span",{className:"time",children:["Date : ",s]})]}),Object(b.jsxs)("div",{className:"flex-task-btn",children:[Object(b.jsx)("button",{onClick:this.editTask,className:"btn edit",children:Object(b.jsx)("i",{className:"fas fa-pen-square fa-2x"})}),Object(b.jsx)("button",{onClick:function(){return e.props.deleteTask(e.props.index)},className:"btn ",children:Object(b.jsx)("i",{className:"fas fa-times-circle fa-2x"})})]})]})}}]),a}(n.a.Component),v=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/tasks/alltasks");case 2:t=e.sent,a=Object(l.a)({},t.data),this.props.setTasks(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"tasks",children:Object.keys(this.props.tasks).map((function(t){return Object(b.jsx)(m,{index:t,task:e.props.tasks[t],deleteTask:e.props.deleteTask,setTasks:e.props.setTasks},t)}))})}}]),a}(n.a.Component),T=function(e){Object(k.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={tasks:{}},e.setTasks=function(t){e.setState({tasks:t}),console.log("rerender")},e.addToDb=function(){var t=Object(u.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,x.a.post("/tasks/addtask",a);case 3:s=t.sent,e.setState(Object(l.a)({},s.data)),e.setTasks(Object(l.a)({},s.data));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addTask=function(){var t=Object(u.a)(i.a.mark((function t(a){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Object(l.a)({},e.state.tasks),e.addToDb(a),s["id".concat(Date.now())]=a,console.log(s),t.next=6,x.a.get("/tasks/alltasks");case 6:n=t.sent,e.setTasks(Object(l.a)({},n.data)),console.log(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteTask=function(){var t=Object(u.a)(i.a.mark((function t(a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=Object(l.a)({},e.state.tasks),console.log(s[a].id),x.a.delete("/tasks/deletetask/"+s[a].id),delete s[a],e.setState({tasks:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(f,{}),Object(b.jsx)(h,{addTask:this.addTask}),Object(b.jsx)(v,{setTasks:this.setTasks,tasks:this.state.tasks,deleteTask:this.deleteTask})]})})}}]),a}(n.a.Component);c.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.0410c61f.chunk.js.map